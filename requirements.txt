# Requirements for Development
# ==============================
# Ten plik zawiera unpinned dependencies dla elastycznego developmentu.
# Dla produkcji użyj requirements.lock z zakpinowanymi wersjami.
#
# Generowanie lock file:
#   docker-compose exec api pip freeze > requirements.lock
#
# Zalecane narzędzia security:
#   pip install pip-audit safety
#   pip-audit  # Sprawdź znane CVE
#   safety check  # Sprawdź znane vulnerabilities

# Core Framework
fastapi
uvicorn[standard]
pydantic
pydantic-settings

# Database
sqlalchemy
asyncpg
psycopg2-binary
alembic
aiosqlite  # Async SQLite driver for tests (Cloud Build)

# Vector Database & Graph DB
pgvector
neo4j
redis
hiredis

# LangChain Core (upgraded to 0.3.x for additional_instructions support in LLMGraphTransformer)
langchain>=0.3.0,<0.4.0
langchain-core>=0.3.0,<0.4.0
langchain-community>=0.3.0,<0.4.0
langchain-text-splitters>=0.3.0,<0.4.0
langgraph>=0.2.0,<0.3.0  # State machine for Study Designer Chat

# LangChain LLM Providers
langchain-google-genai>=2.0.0,<3.0.0  # PRIMARY LLM PROVIDER
# langchain-openai - moved to pyproject.toml [project.optional-dependencies] llm-providers
# langchain-anthropic - moved to pyproject.toml [project.optional-dependencies] llm-providers
langchain-experimental>=0.3.0,<0.4.0  # CRITICAL: 0.3.0+ has additional_instructions for LLMGraphTransformer

# LangChain Neo4j Integration (replaces deprecated Neo4jVector/Neo4jGraph from langchain-community)
langchain-neo4j>=0.1.0,<0.2.0

# Legacy LLM Integration - moved to pyproject.toml [project.optional-dependencies] llm-providers
# openai
# anthropic
# tiktoken - moved to pyproject.toml [project.optional-dependencies] experimental
# google-generativeai - installed automatically by langchain-google-genai

# ML & Data Science
numpy
# pandas - moved to pyproject.toml [project.optional-dependencies] experimental (currently unused)
scikit-learn

# RAG System - Reranking
sentence-transformers>=2.0.0,<3.0.0  # CrossEncoder dla hybrid search reranking (pre-warmed w Dockerfile)

# API & Web
httpx
# websockets - moved to pyproject.toml [project.optional-dependencies] experimental (currently unused)
python-multipart
sse-starlette>=1.6.5  # Server-Sent Events for real-time progress streaming

# Auth & Security
python-jose[cryptography]
PyJWT  # Required for direct JWT import in tests (python-jose uses it internally)
bcrypt
python-dotenv
slowapi  # Rate limiting for FastAPI endpoints

# Utilities
python-dateutil
pytz
# tenacity - moved to pyproject.toml [project.optional-dependencies] experimental (currently unused)
aiofiles

# Scheduled Jobs
apscheduler==3.10.4

# Google Cloud (dla Cloud Tasks integration)
google-cloud-tasks>=2.16.0,<3.0.0

# Development
pytest
pytest-asyncio
pytest-cov
pytest-timeout  # Timeout for CI/CD tests (prevents hanging tests)
black
flake8
mypy

# Report Generation
jinja2  # Used by config/loader.py for prompt templates

# RAG System - Document Processing
# pypdf - moved to pyproject.toml [project.optional-dependencies] document-processing
# python-docx - moved to pyproject.toml [project.optional-dependencies] document-processing
